<!DOCTYPE html><html lang="en-US" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>8.L4 | Yuchen You</title><meta name="author" content="Yuchen You (Wesley)"><meta name="copyright" content="Yuchen You (Wesley)"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Motivation 和论文目标 守旧派往往认为, 第一代 μ\muμ-kernel  微内核具有非常低的 performance&#x2F;flexibility, 但是本文希望能测试第二代微内核的性能和灵活性, 实验手段是测试一些老的系统性能测试以及加上一些新的有针对的测试 微内核的优点之一是, 内核小巧, 部件坏的概率小 微内核只提供 mechanism 但是不提供 policy, 但是也需要上面一层">
<meta property="og:type" content="article">
<meta property="og:title" content="8.L4">
<meta property="og:url" content="http://example.com/2025/09/08/wesley_knowledge_repo/os/historical/8.L4/index.html">
<meta property="og:site_name" content="Yuchen You">
<meta property="og:description" content="Motivation 和论文目标 守旧派往往认为, 第一代 μ\muμ-kernel  微内核具有非常低的 performance&#x2F;flexibility, 但是本文希望能测试第二代微内核的性能和灵活性, 实验手段是测试一些老的系统性能测试以及加上一些新的有针对的测试 微内核的优点之一是, 内核小巧, 部件坏的概率小 微内核只提供 mechanism 但是不提供 policy, 但是也需要上面一层">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/me_new.jpeg">
<meta property="article:published_time" content="2025-09-08T08:30:05.000Z">
<meta property="article:modified_time" content="2025-09-13T20:07:43.196Z">
<meta property="article:author" content="Yuchen You (Wesley)">
<meta property="article:tag" content="operating_system">
<meta property="article:tag" content="kernel">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/me_new.jpeg"><link rel="shortcut icon" href="/img/hackerrank.svg"><link rel="canonical" href="http://example.com/2025/09/08/wesley_knowledge_repo/os/historical/8.L4/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '8.L4',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-09-14 04:07:43'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/me_new.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">286</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">43</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">8</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/math_master.jpeg')"><nav id="nav"><span id="blog-info"><a href="/" title="Yuchen You"><img class="site-icon" src="/img/avatar.png"/><span class="site-name">Yuchen You</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">8.L4</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-09-08T08:30:05.000Z" title="Created 2025-09-08 16:30:05">2025-09-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-09-13T20:07:43.196Z" title="Updated 2025-09-14 04:07:43">2025-09-14</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="8.L4"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="motivation-和论文目标">Motivation 和论文目标</h2>
<p>守旧派往往认为, 第一代 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">μ</span></span></span></span>-kernel  微内核具有非常低的 performance/flexibility, 但是本文希望能测试第二代微内核的性能和灵活性, 实验手段是测试一些老的系统性能测试以及加上一些新的有针对的测试</p>
<p>微内核的优点之一是, 内核小巧, 部件坏的概率小</p>
<p>微内核只提供 mechanism 但是不提供 policy, 但是也需要上面一层安全控制的 pager, FS 等资源, 这些往往依赖于 UNIX Server 实现</p>
<h2 id="introduction">Introduction</h2>
<p>L4 kernel 本身是一个第二代微内核, 拥有 lean &amp; fast 的特性</p>
<p>最初的 L4 kernel 是开发于 Pentium Platform 的, 但是为了证明这个内核抽象能够独立于硬件平台, 所以本文将 L4 在 Alpha21164 平台上重新完整实现了一次并且保留了传统 L4 的接口 (interface); L4 当下是支持 Pentium, Alpha 和 MIPS 三个架构, 后两者为新开发的功能</p>
<h3 id="pentium-内存空间优化">Pentium 内存空间优化</h3>
<p>L4/Pentium 版本在 small-address-space 情况下有 optimization:</p>
<ul>
<li>如果某个线程用到的虚拟地址空间比较小(例如 4MB 到 512MB), 那么它可以被认为是 small space</li>
<li>L4 可以让这种小空间在所有页表中 物理共享, 并利用 Pentium 的 分段机制 来保护
<ul>
<li>这样做的效果是: 当线程切换时, 不需要频繁刷新整个 TLB(Translation Lookaside Buffer), 就好像 CPU 原生提供了 tagged TLB 功能一样</li>
</ul>
</li>
<li>如果某个线程在 small space 里运行, 突然访问了超出 small space 范围的地址, 内核会 自动把它切回到正常的 3GB 地址空间模型</li>
<li>在同一个任务(task)里, 有些线程可能运行在 normal 3GB 空间, 有些则在 small space 中;二者可以并存</li>
</ul>
<p>L4Linux 设计了一个特殊的 lib 来支持这种内存优化, 并且会将 emulation lib, singal<br>
thread 映射到靠近 app 的位置来实现小内存空间优化, 这样的优化可以避免很多系统资源调度冲突 (因为减少了很多 TLB flush)</p>
<p>本系统中用到这个哲学的是 pager</p>
<h3 id="linux-双层-it-handler">Linux 双层 it handler</h3>
<p>Linux 的中断处理是双层的, 包括一个高优先级 (top-halves) 中断处理器和一个低优先级 (bottom-halves) 中断处理器;<br>
前者的中断无法被打断, 往往由硬件驱动直接触发, 后者则只能被 top-halves 打断;<br>
Linux server 的 用户态会存在多个 it-handler 线程, 其中 1 个是 bottom-halves 而其他都是 top-halves, 这样做其实可以避免并发处理中断</p>
<h3 id="device-driver">Device Driver</h3>
<p>由于 L4 内核是基于 Pentium 架构的, 但是我们的设计目标是尽量保持 Linux Server 整体代码不动, 主要修改 L4 Kernel, 所以我们要求外设 Device Driver 基本上直接使用 Linux/x86 版本的</p>
<h3 id="linux-进程机制">Linux 进程机制</h3>
<p>一般来说 Linux 进程的组成是 执行流 thread 和 内存空间 address space 的结合, 但是这两个资源都是属于 L4 内核的, 这里控制应该要用远程进程间通信 RPC (远程一般默认能跨平台, 所以更适合用在这里), 例如在 Linux 中发生了 page fault, 那么就会将这个报错传递给 L4 内核然后由 L4 使用 RPC 发到 Linux server 进行处理, 这里可能涉及一些 syscall 调用(后文会讨论) 例如 map/unmap 指令 然后再返回给对应 Linux 进程即可</p>
<p>Map 的实际操作是将复制得到的副本添加一个指向原进程空间的映射/引用, 这就是原文提及的 “recursive”</p>
<p>传统的 Linux 设计是将内核地址映射放到每个用户进程的高地址空间, 这样做的好处是用户态可以直接访问内核指令而不需要切换用户空间到内核, 可以提高效率</p>
<h3 id="system-call-mechanisms">System-Call Mechanisms</h3>
<p>和上文提及的进程通讯类似, 系统调用由于跨平台的原因也要用 RPC 来实现, 此处一共设计了 3 中系统调用接口:</p>
<ol>
<li>一个</li>
</ol>
<h3 id="signaling">Signaling</h3>
<ul>
<li>传统 Linux 内核会将 Signaling 处理变成直接将信号传递到对应的 用户进程的 stack<br>
上并且操纵 pc/ic 来实现控制, 把 signal handler 压到用户栈上, 然后下一次用户态执行时就跳转到信号处理函数, 具体参考 EECS 482 P2 中的 IT handler 机制.</li>
<li>L4 处于安全考虑禁止了这种 inter-thread manipulation to thread sharing the same addr space
<ul>
<li>L4 的适配做法是向目标进程发送一个对应的 manipulate thread 来处理这个 signal thread, 从而让 user thread 进入 Linux Server 的 main thread 来继续执行</li>
</ul>
</li>
</ul>
<h3 id="scheduling">Scheduling</h3>
<p>调度算法有 L4 内核内部完成实现, 会将时间切片称 Time Slice, 然后只有当到时间切片节点且任务已经完成的时候会考虑更换线程</p>
<p>整个调度算法符合 Priority + Round-Robin: 首先考虑 优先级 , 同优先级下支持 round-robin 轮训, 并且一共四个优先级:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">interrupt top-half &gt; interrupt bottom-half &gt; Linux kernel &gt; Linux user process</span><br></pre></td></tr></table></figure>
<p>因此在 用户态内所有进程调度其实是遵循纯 round-robin 算法的</p>
<h3 id="内核-用户空间映射-模式的局限性">内核+用户空间映射 模式的局限性</h3>
<p>原生 Linux/x86 的做法</p>
<ul>
<li>在传统 Linux/x86 中, 每个进程的虚拟地址空间都是 4GB:</li>
<li>高地址部分(通常 1GB): 内核空间, 所有进程共享;</li>
<li>低地址部分(通常 3GB): 用户空间, 进程私有;</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://example.com">Yuchen You (Wesley)</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://example.com/2025/09/08/wesley_knowledge_repo/os/historical/8.L4/">http://example.com/2025/09/08/wesley_knowledge_repo/os/historical/8.L4/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/operating-system/">operating_system</a><a class="post-meta__tags" href="/tags/kernel/">kernel</a></div><div class="post_share"><div class="social-share" data-image="/img/me_new.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/09/08/wesley_knowledge_repo/os/historical/1.THE_Dijkstra/" title=""><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous</div><div class="prev_info"></div></div></a></div><div class="next-post pull-right"><a href="/2025/09/06/wesley_knowledge_repo/os/kernel/SYSCALL_DEFINE/" title="SYSCALL_DEFINE"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Next</div><div class="next_info">SYSCALL_DEFINE</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2025/09/06/wesley_knowledge_repo/os/kernel/SYSCALL_DEFINE/" title="SYSCALL_DEFINE"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-06</div><div class="title">SYSCALL_DEFINE</div></div></a></div><div><a href="/2025/09/13/wesley_knowledge_repo/os/historical/5.Plan9_9P/" title="5.Plan9_9P"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-13</div><div class="title">5.Plan9_9P</div></div></a></div><div><a href="/2025/09/13/wesley_knowledge_repo/os/historical/7.micro-Kernel/" title="7.micro-Kernel"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-13</div><div class="title">7.micro-Kernel</div></div></a></div><div><a href="/2025/09/13/wesley_knowledge_repo/os/historical/6.Mach/" title="6.Mach"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-13</div><div class="title">6.Mach</div></div></a></div><div><a href="/2025/09/13/wesley_knowledge_repo/os/historical/9.exokernel/" title="9.exokernel"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-13</div><div class="title">9.exokernel</div></div></a></div><div><a href="/2025/09/15/wesley_knowledge_repo/os/historical/11.disco/" title="11.disco"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-15</div><div class="title">11.disco</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/me_new.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Yuchen You (Wesley)</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">286</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">43</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/1WesleyYou"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/1Wesleyyou" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:yuchenxr@umich.edu" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://www.linkedin.com/in/yuchen-you-a74940314/?locale=en_US" target="_blank" title="LinkedIn"><i class="fab fa-linkedin" style="color: #4a4dbe;"></i></a><a class="social-icon" href="/Resume.pdf" target="_blank" title="CV"><i class="fas fa-address-card" style="color: #251456;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#motivation-%E5%92%8C%E8%AE%BA%E6%96%87%E7%9B%AE%E6%A0%87"><span class="toc-number">1.</span> <span class="toc-text">Motivation 和论文目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#introduction"><span class="toc-number">2.</span> <span class="toc-text">Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pentium-%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4%E4%BC%98%E5%8C%96"><span class="toc-number">2.1.</span> <span class="toc-text">Pentium 内存空间优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux-%E5%8F%8C%E5%B1%82-it-handler"><span class="toc-number">2.2.</span> <span class="toc-text">Linux 双层 it handler</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#device-driver"><span class="toc-number">2.3.</span> <span class="toc-text">Device Driver</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux-%E8%BF%9B%E7%A8%8B%E6%9C%BA%E5%88%B6"><span class="toc-number">2.4.</span> <span class="toc-text">Linux 进程机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#system-call-mechanisms"><span class="toc-number">2.5.</span> <span class="toc-text">System-Call Mechanisms</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#signaling"><span class="toc-number">2.6.</span> <span class="toc-text">Signaling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scheduling"><span class="toc-number">2.7.</span> <span class="toc-text">Scheduling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E6%A0%B8-%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E6%98%A0%E5%B0%84-%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%B1%80%E9%99%90%E6%80%A7"><span class="toc-number">2.8.</span> <span class="toc-text">内核+用户空间映射 模式的局限性</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/21/wesley_knowledge_repo/os/historical/13.x86virt_comp/" title="Untitled">Untitled</a><time datetime="2025-09-21T22:20:17.535Z" title="Created 2025-09-22 06:20:17">2025-09-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/15/wesley_knowledge_repo/os/historical/12.xen/" title="12.xen">12.xen</a><time datetime="2025-09-15T12:16:57.000Z" title="Created 2025-09-15 20:16:57">2025-09-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/15/wesley_knowledge_repo/ds/2.lamport_clock/" title="2. Lamport Clock, RSM and PB Replication">2. Lamport Clock, RSM and PB Replication</a><time datetime="2025-09-15T09:12:02.000Z" title="Created 2025-09-15 17:12:02">2025-09-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/15/wesley_knowledge_repo/db/2.sql/" title="2.formal_method_to_sql">2.formal_method_to_sql</a><time datetime="2025-09-15T06:27:17.000Z" title="Created 2025-09-15 14:27:17">2025-09-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/15/wesley_knowledge_repo/os/historical/11.disco/" title="11.disco">11.disco</a><time datetime="2025-09-15T05:17:28.000Z" title="Created 2025-09-15 13:17:28">2025-09-15</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Yuchen You (Wesley)</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">welcome to my blog!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>